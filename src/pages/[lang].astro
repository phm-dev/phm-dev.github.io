---
import type { GetStaticPaths } from 'astro';
import '../styles/global.css';

export const getStaticPaths = (() => {
  return [
    { params: { lang: 'bg' } },
    { params: { lang: 'cs' } },
    { params: { lang: 'da' } },
    { params: { lang: 'de' } },
    { params: { lang: 'el' } },
    { params: { lang: 'en' } },
    { params: { lang: 'es' } },
    { params: { lang: 'et' } },
    { params: { lang: 'fi' } },
    { params: { lang: 'fr' } },
    { params: { lang: 'ga' } },
    { params: { lang: 'hr' } },
    { params: { lang: 'hu' } },
    { params: { lang: 'it' } },
    { params: { lang: 'lb' } },
    { params: { lang: 'lt' } },
    { params: { lang: 'lv' } },
    { params: { lang: 'mt' } },
    { params: { lang: 'nl' } },
    { params: { lang: 'pl' } },
    { params: { lang: 'pt' } },
    { params: { lang: 'ro' } },
    { params: { lang: 'sk' } },
    { params: { lang: 'sl' } },
    { params: { lang: 'sv' } },
  ];
}) satisfies GetStaticPaths;

const { lang } = Astro.params;

const messages: Record<string, () => Promise<{ default: any }>> = {
  bg: () => import("../i18n/bg.json"),
  cs: () => import("../i18n/cs.json"),
  da: () => import("../i18n/da.json"),
  de: () => import("../i18n/de.json"),
  el: () => import("../i18n/el.json"),
  en: () => import("../i18n/en.json"),
  es: () => import("../i18n/es.json"),
  et: () => import("../i18n/et.json"),
  fi: () => import("../i18n/fi.json"),
  fr: () => import("../i18n/fr.json"),
  ga: () => import("../i18n/ga.json"),
  hr: () => import("../i18n/hr.json"),
  hu: () => import("../i18n/hu.json"),
  it: () => import("../i18n/it.json"),
  lb: () => import("../i18n/lb.json"),
  lt: () => import("../i18n/lt.json"),
  lv: () => import("../i18n/lv.json"),
  mt: () => import("../i18n/mt.json"),
  nl: () => import("../i18n/nl.json"),
  pl: () => import("../i18n/pl.json"),
  pt: () => import("../i18n/pt.json"),
  ro: () => import("../i18n/ro.json"),
  sk: () => import("../i18n/sk.json"),
  sl: () => import("../i18n/sl.json"),
  sv: () => import("../i18n/sv.json"),
};

const languageNames: Record<string, string> = {
  bg: 'Български',
  cs: 'Čeština',
  da: 'Dansk',
  de: 'Deutsch',
  el: 'Ελληνικά',
  en: 'English',
  es: 'Español',
  et: 'Eesti',
  fi: 'Suomi',
  fr: 'Français',
  ga: 'Gaeilge',
  hr: 'Hrvatski',
  hu: 'Magyar',
  it: 'Italiano',
  lb: 'Lëtzebuergesch',
  lt: 'Lietuvių',
  lv: 'Latviešu',
  mt: 'Malti',
  nl: 'Nederlands',
  pl: 'Polski',
  pt: 'Português',
  ro: 'Română',
  sk: 'Slovenčina',
  sl: 'Slovenščina',
  sv: 'Svenska',
};

if (!messages[lang]) {
  return Astro.redirect("/en/");
}

const t = (await messages[lang]()).default;

const siteUrl = 'https://phm-dev.github.io';
const supportedLanguages = Object.keys(messages);
---

<html lang={lang}>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!-- SEO: Canonical & hreflang -->
		<link rel="canonical" href={`${siteUrl}/${lang}/`} />
		{supportedLanguages.map(l => (
			<link rel="alternate" hreflang={l} href={`${siteUrl}/${l}/`} />
		))}
		<link rel="alternate" hreflang="x-default" href={`${siteUrl}/en/`} />

		<!-- SEO: Open Graph -->
		<meta property="og:type" content="website" />
		<meta property="og:url" content={`${siteUrl}/${lang}/`} />
		<meta property="og:title" content={t.meta.title} />
		<meta property="og:description" content={t.meta.description} />
		<meta property="og:locale" content={`${lang}_${lang.toUpperCase()}`} />

		<!-- SEO: Twitter -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content={t.meta.title} />
		<meta name="twitter:description" content={t.meta.description} />

		<!-- SEO: Other -->
		<meta name="robots" content="index, follow" />
		<meta name="author" content="PHM" />

		<title>{t.meta.title}</title>
		<meta name="description" content={t.meta.description} />
		<link rel="icon" href="/icon-light-32x32.png" media="(prefers-color-scheme: light)" />
		<link rel="icon" href="/icon-dark-32x32.png" media="(prefers-color-scheme: dark)" />
		<link rel="icon" href="/icon.svg" type="image/svg+xml" />
		<link rel="apple-touch-icon" href="/apple-icon.png" />
	</head>
	<body class="font-sans antialiased">
		<main class="relative min-h-screen">
			<!-- Hero Section -->
			<section class="relative min-h-screen flex items-center justify-center overflow-hidden px-4">
				<div class="absolute inset-0 overflow-hidden">
					<div class="absolute top-1/4 left-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-slow-float"></div>
					<div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-slow-float" style="animation-delay:-3s"></div>
				</div>
				<div class="relative z-10 max-w-5xl mx-auto text-center space-y-8">
					<div class="space-y-4">
						<h1 class="text-7xl md:text-9xl font-bold tracking-tighter text-balance">PHM</h1>
						<p class="text-2xl md:text-4xl text-muted-foreground font-light italic tracking-wide text-balance">{t.hero.tagline}</p>
					</div>
					<p class="text-lg md:text-xl text-foreground/80 max-w-2xl mx-auto leading-relaxed text-balance">{t.hero.subtitle}<br/>{t.hero.subtitleFeatures}</p>
					<div class="py-8">
						<div class="relative max-w-2xl mx-auto">
							<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-6 font-mono text-sm shadow-2xl">
								<div class="flex items-center gap-2 mb-4 pb-2 border-b border-border/30">
									<div class="flex gap-1.5">
										<div class="w-3 h-3 rounded-full bg-destructive/60"></div>
										<div class="w-3 h-3 rounded-full bg-secondary/60"></div>
										<div class="w-3 h-3 rounded-full bg-primary/60"></div>
									</div>
									<span class="text-muted-foreground text-xs ml-2">{t.terminal.label}</span>
								</div>
								<div class="text-foreground/90">
									<div class="flex items-center gap-2">
										<span class="text-primary">$</span>
										<span id="terminal-text"></span>
										<span class="inline-block w-2 h-4 bg-primary/80 animate-terminal-blink ml-1" id="cursor"></span>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="flex flex-col sm:flex-row items-center justify-center gap-4 pt-4">
						<a href="#installation" class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-all outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] h-10 rounded-md bg-primary text-primary-foreground hover:bg-primary/90 px-8 text-base">{t.hero.getStarted}</a>
						<a href="https://github.com/phm-dev/phm" class="inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-all outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] border shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-10 rounded-md border-border/50 px-8 text-base bg-transparent">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github mr-2 h-5 w-5"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
							{t.hero.viewOnGitHub}
						</a>
					</div>
				</div>
			</section>

			<!-- What Is PHM Section -->
			<section class="relative py-32 px-4 overflow-hidden">
				<div class="absolute inset-0 bg-gradient-to-b from-background via-card/20 to-background"></div>
				<div class="relative z-10 max-w-6xl mx-auto">
					<h2 class="text-4xl md:text-5xl font-bold text-center mb-20 text-balance">{t.whatIs.title}</h2>
					<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
						<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-8 scroll-animate" style="transition-delay:0ms">
							<div class="flex flex-col items-center text-center space-y-4">
								<div class="p-3 bg-primary/10 rounded-lg">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package w-8 h-8 text-primary"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"></path><path d="M12 22V12"></path><path d="m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"></path><path d="m7.5 4.27 9 5.15"></path></svg>
								</div>
								<h3 class="text-xl font-semibold">{t.whatIs.precompiled.title}</h3>
								<p class="text-muted-foreground text-sm leading-relaxed whitespace-pre-line">{t.whatIs.precompiled.line1}
{t.whatIs.precompiled.line2}</p>
							</div>
						</div>
						<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-8 scroll-animate" style="transition-delay:100ms">
							<div class="flex flex-col items-center text-center space-y-4">
								<div class="p-3 bg-primary/10 rounded-lg">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cpu w-8 h-8 text-primary"><rect width="16" height="16" x="4" y="4" rx="2"></rect><rect width="6" height="6" x="9" y="9" rx="1"></rect><path d="M15 2v2"></path><path d="M15 20v2"></path><path d="M2 15h2"></path><path d="M2 9h2"></path><path d="M20 15h2"></path><path d="M20 9h2"></path><path d="M9 2v2"></path><path d="M9 20v2"></path></svg>
								</div>
								<h3 class="text-xl font-semibold">{t.whatIs.macosOnly.title}</h3>
								<p class="text-muted-foreground text-sm leading-relaxed whitespace-pre-line">{t.whatIs.macosOnly.line1}
{t.whatIs.macosOnly.line2}</p>
							</div>
						</div>
						<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-8 scroll-animate" style="transition-delay:200ms">
							<div class="flex flex-col items-center text-center space-y-4">
								<div class="p-3 bg-primary/10 rounded-lg">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-hammer w-8 h-8 text-primary"><path d="m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9"></path><path d="m18 15 4-4"></path><path d="m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5"></path></svg>
								</div>
								<h3 class="text-xl font-semibold">{t.whatIs.noBuildTools.title}</h3>
								<p class="text-muted-foreground text-sm leading-relaxed whitespace-pre-line">{t.whatIs.noBuildTools.line1}
{t.whatIs.noBuildTools.line2}
{t.whatIs.noBuildTools.line3}</p>
							</div>
						</div>
						<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg p-8 scroll-animate" style="transition-delay:300ms">
							<div class="flex flex-col items-center text-center space-y-4">
								<div class="p-3 bg-primary/10 rounded-lg">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-check w-8 h-8 text-primary"><circle cx="12" cy="12" r="10"></circle><path d="m9 12 2 2 4-4"></path></svg>
								</div>
								<h3 class="text-xl font-semibold">{t.whatIs.deterministic.title}</h3>
								<p class="text-muted-foreground text-sm leading-relaxed whitespace-pre-line">{t.whatIs.deterministic.line1}
{t.whatIs.deterministic.line2}
{t.whatIs.deterministic.line3}</p>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Why PHM Section -->
			<section class="relative py-32 px-4">
				<div class="absolute inset-0 overflow-hidden">
					<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-accent/5 rounded-full blur-3xl"></div>
				</div>
				<div class="relative z-10 max-w-4xl mx-auto text-center space-y-12">
					<h2 class="text-4xl md:text-5xl font-bold mb-12 text-balance">{t.why.title}</h2>
					<div class="space-y-8 scroll-animate-fade">
						<p class="text-xl md:text-2xl text-foreground/90 leading-relaxed text-balance">{t.why.problemLine1}<br/>{t.why.problemLine2}</p>
						<p class="text-lg md:text-xl text-muted-foreground leading-relaxed text-balance">{t.why.solutionLine1}<br/><span class="text-primary font-semibold">{t.why.solutionHighlight}</span></p>
					</div>
				</div>
			</section>

			<!-- Installation Section -->
			<section id="installation" class="relative py-32 px-4">
				<div class="relative z-10 max-w-4xl mx-auto">
					<h2 class="text-4xl md:text-5xl font-bold text-center mb-16 scroll-animate">{t.installation.title}</h2>
					<div class="space-y-8">
						<div class="relative group">
							<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg shadow-2xl overflow-hidden ring-1 ring-primary/10">
								<div class="flex items-center justify-between px-4 py-2 border-b border-border/30 bg-muted/30">
									<span class="text-xs text-muted-foreground font-mono">bash</span>
									<button class="copy-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 h-7 px-2 hover:bg-primary/10" data-code="curl -fsSL https://raw.githubusercontent.com/phm-dev/phm/main/scripts/install-phm.sh | bash">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 mr-1"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
										<span class="text-xs">{t.actions.copy}</span>
									</button>
								</div>
								<pre class="overflow-x-auto p-6"><code class="text-sm md:text-base font-mono text-foreground/90 leading-relaxed">curl -fsSL https://raw.githubusercontent.com/phm-dev/phm/main/scripts/install-phm.sh | bash</code></pre>
							</div>
							<div class="absolute inset-0 bg-primary/5 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10"></div>
						</div>
						<div class="text-center">
							<p class="text-sm text-muted-foreground mb-4">{t.installation.addToProfile}</p>
							<div class="relative group">
								<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg shadow-2xl overflow-hidden ring-1 ring-primary/10">
									<div class="flex items-center justify-between px-4 py-2 border-b border-border/30 bg-muted/30">
										<span class="text-xs text-muted-foreground font-mono">bash</span>
										<button class="copy-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 h-7 px-2 hover:bg-primary/10" data-code='export PATH="/opt/php/bin:$PATH"'>
											<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 mr-1"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
											<span class="text-xs">{t.actions.copy}</span>
										</button>
									</div>
									<pre class="overflow-x-auto p-3"><code class="text-sm md:text-base font-mono text-foreground/90 leading-relaxed">export PATH="/opt/php/bin:$PATH"</code></pre>
								</div>
								<div class="absolute inset-0 bg-primary/5 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10"></div>
							</div>
						</div>
					</div>
				</div>
			</section>

			<!-- Quick Start Section -->
			<section class="relative py-32 px-4 bg-card/20">
				<div class="relative z-10 max-w-4xl mx-auto">
					<h2 class="text-4xl md:text-5xl font-bold text-center mb-16 scroll-animate">{t.quickStart.title}</h2>
					<div class="space-y-6">
						<div class="relative group">
							<div class="bg-card/50 backdrop-blur-sm border border-border/50 rounded-lg shadow-2xl overflow-hidden ring-1 ring-primary/10">
								<div class="flex items-center justify-between px-4 py-2 border-b border-border/30 bg-muted/30">
									<span class="text-xs text-muted-foreground font-mono">bash</span>
									<button class="copy-btn inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] hover:text-accent-foreground dark:hover:bg-accent/50 rounded-md gap-1.5 h-7 px-2 hover:bg-primary/10" data-code={`${t.quickStart.commentInstall}
phm install php8.5-cli php8.5-fpm php8.5-redis

${t.quickStart.commentSetDefault}
phm use 8.5

${t.quickStart.commentVerify}
php -v`}>
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3 mr-1"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>
										<span class="text-xs">{t.actions.copy}</span>
									</button>
								</div>
								<pre class="overflow-x-auto p-6"><code class="text-sm md:text-base font-mono text-foreground/90 leading-relaxed">{t.quickStart.commentInstall}
phm install php8.5-cli php8.5-fpm php8.5-redis

{t.quickStart.commentSetDefault}
phm use 8.5

{t.quickStart.commentVerify}
php -v</code></pre>
							</div>
							<div class="absolute inset-0 bg-primary/5 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10"></div>
						</div>
						<div class="flex justify-center pt-4">
							<p class="text-sm text-muted-foreground">{t.quickStart.interactiveMode} <code class="ml-1 px-2 py-1 bg-card/50 border border-border/50 rounded text-primary font-mono">phm ui</code></p>
						</div>
					</div>
				</div>
			</section>

			<!-- Key Features Section -->
			<section class="relative py-32 px-4">
				<div class="relative z-10 max-w-4xl mx-auto">
					<h2 class="text-4xl md:text-5xl font-bold text-center mb-16 scroll-animate">{t.features.title}</h2>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl mx-auto">
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:0ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.binaryPackages}</span>
						</div>
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:100ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.versionScoped}</span>
						</div>
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:200ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.fpmManagement}</span>
						</div>
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:300ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.extensionToggle}</span>
						</div>
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:400ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.interactiveTui}</span>
						</div>
						<div class="flex items-center gap-3 text-lg scroll-animate-left" style="transition-delay:500ms">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check w-5 h-5 text-primary flex-shrink-0"><path d="M20 6 9 17l-5-5"></path></svg>
							<span class="text-foreground/90">{t.features.designedFor}</span>
						</div>
					</div>
				</div>
			</section>

			<!-- Platform Scope Section -->
			<section class="relative py-32 px-4">
				<div class="absolute inset-0 overflow-hidden">
					<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-secondary/5 rounded-full blur-3xl"></div>
				</div>
				<div class="relative z-10 max-w-4xl mx-auto text-center space-y-8">
					<div class="inline-flex items-center justify-center gap-3 mb-8 scroll-animate-scale">
						<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-apple w-16 h-16 text-foreground"><path d="M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z"></path><path d="M10 2c1 .5 2 2 2 5"></path></svg>
					</div>
					<h2 class="text-4xl md:text-5xl font-bold mb-8 text-balance">{t.platform.title}</h2>
					<p class="text-2xl md:text-3xl font-semibold text-primary">{t.platform.macosOnly}</p>
					<div class="max-w-2xl mx-auto pt-8">
						<p class="text-base text-muted-foreground leading-relaxed text-balance">{t.platform.explanationLine1}<br/>{t.platform.explanationLine2}<br/>{t.platform.explanationLine3}</p>
					</div>
				</div>
			</section>

			<!-- Footer -->
			<footer class="relative border-t border-border/50 py-16 px-4">
				<div class="max-w-6xl mx-auto">
					<div class="flex flex-col md:flex-row items-center justify-between gap-8 mb-12">
						<div class="flex flex-col md:flex-row items-center gap-8">
							<a href="https://github.com/phm-dev/phm" class="text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-4 h-4"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
								{t.footer.githubCli}
							</a>
							<a href="https://github.com/phm-dev/php-packages" class="text-sm text-muted-foreground hover:text-foreground transition-colors flex items-center gap-2">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github w-4 h-4"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg>
								{t.footer.packagesRepo}
							</a>
							<a href="https://github.com/phm-dev/phm/wiki" class="text-sm text-muted-foreground hover:text-foreground transition-colors">{t.footer.documentation}</a>
						</div>
					</div>
					<!-- Language Switcher -->
					<div class="flex flex-wrap justify-center items-center pt-8" style="gap: 0.5rem 0;">
						{supportedLanguages.map((l, i) => (
							<>
								{i > 0 && <span class="text-muted-foreground/30" style="margin: 0 0.75rem;">|</span>}
								{l === lang ? (
									<span class="text-sm text-foreground font-medium">{languageNames[l]}</span>
								) : (
									<a href={`/${l}/`} class="text-sm text-muted-foreground hover:text-foreground transition-colors">{languageNames[l]}</a>
								)}
							</>
						))}
					</div>
					<div class="text-center pt-8 border-t border-border/30">
						<p class="text-sm text-muted-foreground italic leading-relaxed max-w-2xl mx-auto text-balance">{t.footer.quoteLine1}<br/>{t.footer.quoteLine2}</p>
					</div>
				</div>
			</footer>
		</main>

		<script define:vars={{ copiedText: t.actions.copied }}>
			// Terminal typing animation
			const commands = [
				'phm install php8.5-cli php8.5-fpm php8.5-redis',
				'phm use 8.5',
				'php -v',
				'phm ui'
			];
			let commandIndex = 0;
			let charIndex = 0;
			let isDeleting = false;
			let isPaused = false;

			const terminalText = document.getElementById('terminal-text');
			const cursor = document.getElementById('cursor');

			function typeCommand() {
				const currentCommand = commands[commandIndex];

				if (isPaused) {
					setTimeout(typeCommand, 2000);
					isPaused = false;
					isDeleting = true;
					return;
				}

				if (isDeleting) {
					terminalText.textContent = currentCommand.substring(0, charIndex - 1);
					charIndex--;

					if (charIndex === 0) {
						isDeleting = false;
						commandIndex = (commandIndex + 1) % commands.length;
					}
					setTimeout(typeCommand, 30);
				} else {
					terminalText.textContent = currentCommand.substring(0, charIndex + 1);
					charIndex++;

					if (charIndex === currentCommand.length) {
						isPaused = true;
					}
					setTimeout(typeCommand, 80);
				}
			}

			typeCommand();

			// Scroll animations
			const observerOptions = {
				threshold: 0.1,
				rootMargin: '0px 0px -50px 0px'
			};

			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						entry.target.classList.add('animate-in');
					}
				});
			}, observerOptions);

			document.querySelectorAll('.scroll-animate, .scroll-animate-fade, .scroll-animate-left, .scroll-animate-scale').forEach(el => {
				observer.observe(el);
			});

			// Copy buttons
			document.querySelectorAll('.copy-btn').forEach(btn => {
				btn.addEventListener('click', async () => {
					const code = btn.getAttribute('data-code');
					await navigator.clipboard.writeText(code);
					const span = btn.querySelector('span');
					const originalText = span.textContent;
					span.textContent = copiedText;
					setTimeout(() => {
						span.textContent = originalText;
					}, 2000);
				});
			});

		</script>

		<style>
			/* Scroll animation styles */
			.scroll-animate {
				opacity: 0;
				transform: translateY(2rem);
				transition: all 0.7s ease-out;
			}
			.scroll-animate.animate-in {
				opacity: 1;
				transform: translateY(0);
			}
			.scroll-animate-fade {
				opacity: 0;
				transform: translateY(3rem);
				transition: all 1s ease-out;
			}
			.scroll-animate-fade.animate-in {
				opacity: 1;
				transform: translateY(0);
			}
			.scroll-animate-left {
				opacity: 0;
				transform: translateX(-1rem);
				transition: all 0.7s ease-out;
			}
			.scroll-animate-left.animate-in {
				opacity: 1;
				transform: translateX(0);
			}
			.scroll-animate-scale {
				opacity: 0;
				transform: scale(0.95);
				transition: all 0.7s ease-out;
			}
			.scroll-animate-scale.animate-in {
				opacity: 1;
				transform: scale(1);
			}

		</style>

		<!-- 100% privacy-first analytics -->
		<script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
	</body>
</html>
